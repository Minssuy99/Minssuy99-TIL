# 스택과 힙 Stack, Heap

## 목차
* [스택과 힙 비교](#스택과-힙-비교)
* [왜 new 가 아닌 vector 을 사용할까?](#-동적배열을-선언할-때-왜-new-가-아닌-vector-을-사용할까)
* [Reference](#reference)



## 스택과 힙 비교

|스택 (정적 배열)|힙 (동적배열)|
|-------------------------------------|----------------------------------|
| **고정된 크기**: 컴파일 시 크기 결정 | **유연한 크기**: 런타임에 크기 결정 |
| **자동 메모리 관리**: 스코프 종료 시 자동 해제 | **수동 메모리 관리**: `delete[]`로 수동 해제 필요 |
| **빠른 할당/해제**| **느린 할당/해제** |
| **메모리 제한**: 크기가 상대적으로 작음 (수 MB) | **메모리 제한 적음**: 더 큰 배열 가능 (수 GB) |
| **지역 변수에 주로 사용**| **큰 배열이나 동적 크기의 데이터에 사용** |


</br>

## 🤔 동적배열을 선언할 때 왜 new 가 아닌 vector 을 사용할까?

`new` 로 메모리를 동적으로 할당하는 방식을 **동적 메모리 할당 (Dynamic Memory Allocation)** 이라고 부른다.

`C 언어`에서는 같은 개념을 `malloc`과 `free`로 처리하며, `C++` 에서는 이를 좀 더 객체 지향적으로 `new`와 `delete`로 다룬다.

`vector` 사용을 권장하는 이유는 더 안전하기 때문이다.

`new` 키워드를 사용하는 방식은 C+11 이전부터 많이 사용되었다.

모든 벡터와 `make_unique` 는 고수준 언어(표준 컨테이너) 이고 휴먼에러가 적다.

까먹고 `delete` 로 메모리를 해제해주지 않으면 메모리 누수가 일어나기 때문.

그럼에도 `new` 를 사용을 고집하는 사람이 있는 이유는 메모리 관리에 대한 권한을 프로그래머가 가질 수 있으니까.

일부 프로그래밍 언어에서는 `GC(가비지컬렉터)` 를 사용하는데, 프로그래머는 `GC` 가 언제 작동하는지 불확실 하기 때문에

`new` 와 `delete` 를 사용한다고 한다. 특히 **저지연 시스템(게임 등)** 을 서비스하는 일부 회사에서는 여전히

이 사용방식을 고집을 하기도 한다고...

</br>

아무튼 결론은 더 안전하고 표준 라이브러리인 **`vector`** 을 애용하도록 합시다.

## Reference
[stack overflow - Why using new operator instead of std::vector?](https://stackoverflow.com/questions/39390445/why-using-new-operator-instead-of-stdvector)